import mongoose, { Schema } from "mongoose"; export interface IDocument extends mongoose.Document { title: string; content: string; type: string; userId: mongoose.Types.ObjectId; createdAt: Date; updatedAt: Date; } const documentSchema = new Schema({ title: { type: String, required: true, trim: true }, content: { type: String, required: true }, type: { type: String, required: true, enum: ["contract", "policy", "form"] }, userId: { type: Schema.Types.ObjectId, ref: "User", required: true }, createdAt: { type: Date, default: Date.now }, updatedAt: { type: Date, default: Date.now } }); documentSchema.pre("save", function(next) { this.updatedAt = new Date(); next(); }); export const Document = mongoose.model<IDocument>("Document", documentSchema);
